<!doctype html>

<head>

<link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.js"></script>

<style>
#chart .c3-axis-x-label {
    font: 20px sans-serif;
}
#chart .c3-axis-y-label {
    font: 20px sans-serif;
}
#chart .c3-axis-y2-label {
    font: 20px sans-serif;
}
#chart .tick {
    font: 12px sans-serif;
}
#chart .c3-area {
    opacity: 1;
    stroke-width: 0px;
}
#chart .c3-line-SpO2 {
    stroke-width: 6px;
}
</style>

</head>

<body>

<div id="chart"></div>

<script>

var chart = c3.generate({
    bindto: '#chart',
    size: {
        width: 1200,
        height: 600,
    },
    data: {
        xs: {
            targetUpper: 'targetTime',
            targetLower: 'targetTime',
            SpO2: 'signalTime'
        },
        columns: [
            ['targetTime', 60, 120, 180, 240, 300, 600],
            ['targetUpper', 1, 1, 1, 1, 1, 1],
            ['targetLower', 0.6, 0.65, 0.7, 0.75, 0.8, 0.85],
            ['signalTime', 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200],
            ['SpO2', 0.35, 0.4, 0.42, 0.48, 0.5, 0.52, 0.55, 0.6, 0.65, 0.67, 0.69, 0.71, 0.69, 0.71, 0.75, 0.77, 0.8, 0.85, 0.9]
        ],
        types: {
            targetLower: 'area-step',
            targetUpper: 'area-step',
            SpO2: 'line'
        },
        axes: {
            targetLower: 'y',
            targetUpper: 'y',
            SpO2: 'y2'
        },
        colors: {
            targetLower: 'skyblue',
            targetUpper: 'salmon',
            SpO2: 'black'
        }
    },
    axis: {
        x: {
            label: {
                text: 'Time (s)',
                position: 'outer-center'
            },
            type: 'indexed',
            tick: {
                fit: false,
                values: [0, 60, 120, 180, 240, 300, 360, 420, 480, 540, 600]
            },
            min: 0,
            max: 0
        },
        y: {
            label: {
                text: 'Saturation (%)',
                position: 'outer-middle'
            },
            show: true,
            tick: {
                format: d3.format('%')
            },
            min: 0,
            max: 1,
            padding: 0
        },
        y2: {
            label: {
                text: 'Saturation (%)',
                position: 'outer-middle'
            },
            show: true,
            tick: {
                format: d3.format('%')
            },
            min: 0,
            max: 1,
            padding: 0
        }
    },
    legend: {
        show: false
    },
    tooltip: {
        show: false
    },
    point: {
        show: false
    },
    padding: {
        bottom: 40
    }
});

setTimeout(function() {
    chart.axis.max({x: 20});
}, 500);
setTimeout(function() {
    chart.axis.max({x: 30});
}, 1000);
setTimeout(function() {
    chart.axis.max({x: 40});
}, 1500);
setTimeout(function() {
    chart.axis.max({x: 50});
}, 2000);
setTimeout(function() {
    chart.axis.max({x: 60});
}, 2500);
setTimeout(function() {
    chart.axis.max({x: 70});
}, 3000);
setTimeout(function() {
    chart.axis.max({x: 80});
}, 3500);
setTimeout(function() {
    chart.axis.max({x: 90});
}, 4000);
setTimeout(function() {
    chart.axis.max({x: 100});
}, 4500);
setTimeout(function() {
    chart.axis.max({x: 110});
}, 5000);
setTimeout(function() {
    chart.axis.max({x: 120});
}, 5500);
setTimeout(function() {
    chart.axis.max({x: 130});
}, 6000);
setTimeout(function() {
    chart.axis.max({x: 140});
}, 6500);
setTimeout(function() {
    chart.axis.max({x: 150});
}, 7000);
setTimeout(function() {
    chart.axis.max({x: 160});
}, 7500);
setTimeout(function() {
    chart.axis.max({x: 170});
}, 8000);
setTimeout(function() {
    chart.axis.max({x: 180});
}, 8500);
setTimeout(function() {
    chart.axis.max({x: 190});
}, 9000);
setTimeout(function() {
    chart.axis.max({x: 200});
}, 9500);

</script>

</body>
